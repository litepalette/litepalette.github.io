<!DOCTYPE html>
<html>
<head>
  <!---<script src="/assets/js/photodiary.js"></script> --->
  <script type="text/javascript">

/*    var postsHREF = [{% for post in site.photodiary %}"{{ post.url }}"{% unless forloop.last %},{% endunless %}{% endfor %}];
    var postsTitle = [{% for post in site.photodiary %}"{{ post.title }}"{% unless forloop.last %},{% endunless %}{% endfor %}]; */


</script>

  </head>
<style>
html {
  background-image: url("https://assets.codepen.io/430361/Sunset.svg");
/*  background-color: gold;*/
	background-position: center;
	background-repeat: no-repeat;
  background-attachment: fixed;
	background-size: cover;
}


h1, h2, ul {
  font-family: monospace;
}

p {
  font-family: monospace;
}

.header {
  position: fixed;
  left: 20px;
  margin: auto;
}

.header a {
  text-decoration: none;
  color: black;
}

.box {
  width: 600px;
  margin: auto;
  padding: 25px;
  border: 0px dashed black;
}

.memorybutton {
  font-family: monospace;
  text-align: center;

}


img {
    max-width: 100%;
    height: auto;
}
  </style>


  <body>

    <div class="header">
      <p><a href="/"> home</a></p>
      <h1><a href="/photodiary"> photo diary ðŸ“–</a> </h1>
      <p> for preserving the fidelity of memories and auras </p>
    </div>

    <div class="box">
<!-- <button onclick="newVibes()">Load a random memory</button>-->
<div class="memorybutton">
  {% assign posts = site.photodiary | where_exp:"post", "post.url != page.url" | sample: 7 %}
    {% for post in posts limit:1 %}
        <a class="prev" href="{{post.url}}">Load a random memory</a>
    {% endfor %}

</div>
  {%- if page.content-type == "photodiary" -%}
  <main>
<!--    <div class="PageNavigation">
      {% if page.previous.url %}
        <a class="prev" href="{{page.previous.url}}">Load a random memory</a>
      {% endif %}
      {% if page.next.url %}
        <a class="next" href="{{page.next.url}}">Load a random memory</a>
      {% endif %}
    </div>-->


    <h2>{{page.title}}</h2>
    <p>  {{content}} </p>


  </main>
      {%- endif -%}

</div>

<!---<ul>
  {% for vibes in site.photodiary %}
    <li>
      <strong>{{ vibes.title }}</strong>
      <p>{{ vibes.content }}</p>
      <hr>
    </li>
      {% endfor %}
</ul>--->





<!---
       --->


<!---  {% for vibes in site.photodiary %}
    <li>
      <strong>{{ vibes.title }}</strong>
      <p>{{ vibes.content }}</p>
      <hr>
    </li>
      {% endfor %}--->

      <script type="text/javascript">
/*
      function newVibes() {
        var postContent = [{% for post in site.photodiary %}
          "{{ post.content | sample:1 }}"
          {% endfor %}
        ]
        console.log(postContent)

      }
    /*    var randomIndexUsed = [];
        var counter = 0;
        var numberOfPosts = 1;

        while (counter < numberOfPosts)
        {
            var randomIndex;
            var postHREF;
            var postTitle;

            randomIndex = Math.floor(Math.random() * postsHREF.length);

            if (randomIndexUsed.indexOf(randomIndex) == "-1")
            {
                postHREF = postsHREF[randomIndex];
                postTitle = postsTitle[randomIndex];


                if (counter == (numberOfPosts - 1))
                {
                    function newVibes() {

                      document.getElementById('memory').innerHTML = '<p>' + postTitle + '</a></p>';
                      console.log("test22");
                    }
                }
                else
                {
                    function newVibes() {
                      document.getElementById('memory').innerHTML = '<p>' + postTitle + '</a></p>';
                      console.log("test2");
                    }
                }

                randomIndexUsed.push(randomIndex);

              counter++;
            }

        } */

      </script>
  </body>


</html>
